proc_generate_task_for_student
=> nrel_main_idtf:
    [Программа для генерации задания для студента] (* <- lang_ru;; *);
    [Program for student task generation] (* <- lang_en;; *);
<- scp_program;
-> rrel_key_sc_element: .._process1;;

proc_generate_task_for_student = [*
.._process1
_<- scp_process;

_-> rrel_1:: rrel_in:: _structure;
_-> rrel_2:: rrel_out:: _result;
_<= nrel_decomposition_of_action:: .._actions (*

    _-> rrel_1:: ..create_result (*
        _<- genEl;;
        _-> rrel_1:: rrel_assign:: rrel_scp_var:: rrel_const:: rrel_node:: rrel_struct:: _result;;

        _=> nrel_goto:: .._create_node_set;;
    *);;

    _-> .._create_node_set (*
        _<- searchSetStr3;;
        _-> rrel_1:: rrel_fixed:: rrel_scp_const:: _structure;;
        _-> rrel_2:: rrel_assign:: rrel_scp_var:: rrel_pos_const_perm:: _arc;;
        _-> rrel_3:: rrel_assign:: rrel_scp_var:: rrel_node:: _node;;
        _-> rrel_set_3:: rrel_assign:: rrel_scp_var:: _node_set;;

        _=> nrel_goto:: .._cycle_node;;
    *);; 

    _-> .._cycle_node (*
        _<- searchElStr3;;
        _-> rrel_1:: rrel_fixed:: rrel_scp_var:: _node_set;;
        _-> rrel_2:: rrel_assign:: rrel_scp_var:: rrel_pos_const_perm:: _arc_to_delete;;
        _-> rrel_3:: rrel_assign:: rrel_scp_var:: _node;;

        _=> nrel_then:: .._delete_arc_from_set;;
        _=> nrel_else:: .._create_node_set1;;
    *);; 

    _-> .._delete_arc_from_set (*
        _<- eraseEl;;
        _-> rrel_1:: rrel_fixed:: rrel_scp_var:: _arc_to_delete;;

        _=> nrel_goto:: .._add_node_to_result;;
    *);;

    _-> .._add_node_to_result (*
        _<- genElStr3;;
        _-> rrel_1:: rrel_fixed:: rrel_scp_var:: _result;;
        _-> rrel_2:: rrel_assign:: rrel_scp_var:: rrel_pos_const_perm:: _arc;;
        _-> rrel_3:: rrel_fixed:: rrel_scp_var:: _node;;

        _=> nrel_goto:: .._cycle_node;;
    *);;

    _-> .._create_node_set1 (*
        _<- searchSetStr3;;
        _-> rrel_1:: rrel_fixed:: rrel_scp_const:: _structure;;
        _-> rrel_2:: rrel_assign:: rrel_scp_var:: rrel_pos_const_perm:: _arc1;;
        _-> rrel_3:: rrel_assign:: rrel_scp_var:: rrel_node:: _node1;;
        _-> rrel_set_3:: rrel_assign:: rrel_scp_var:: _node_set1;;

        _=> nrel_goto:: .._cycle_node1;;
    *);;

    _-> .._cycle_node1 (*
        _<- searchElStr3;;
        _-> rrel_1:: rrel_fixed:: rrel_scp_var:: _node_set1;;
        _-> rrel_2:: rrel_assign:: rrel_scp_var:: rrel_pos_const_perm:: _arc_to_delete1;;
        _-> rrel_3:: rrel_assign:: rrel_scp_var:: _node1;;

        _=> nrel_then:: .._delete_arc_from_set1;;
        _=> nrel_else:: .._return;;
    *);;

    _-> .._delete_arc_from_set1 (*
        _<- eraseEl;;
        _-> rrel_1:: rrel_fixed:: rrel_scp_var:: _arc_to_delete1;;

        _=> nrel_goto:: .._cycle_node2;;
    *);;

    _-> .._create_node_set2 (*
        _<- searchSetStr3;;
        _-> rrel_1:: rrel_fixed:: rrel_scp_const:: _structure;;
        _-> rrel_2:: rrel_assign:: rrel_scp_var:: rrel_pos_const_perm:: _arc2;;
        _-> rrel_3:: rrel_assign:: rrel_scp_var:: rrel_node:: _node2;;
        _-> rrel_set_3:: rrel_assign:: rrel_scp_var:: _node_set2;;

        _=> nrel_goto:: .._delete_arc_from_set1;;
    *);;

    _-> .._cycle_node2 (*
        _<- searchElStr3;;
        _-> rrel_1:: rrel_fixed:: rrel_scp_var:: _node_set2;;
        _-> rrel_2:: rrel_assign:: rrel_scp_var:: rrel_pos_const_perm:: arc_to_delete2;;
        _-> rrel_3:: rrel_assign:: rrel_scp_var:: _node2;;

        _=> nrel_then:: .._delete_arc_from_set2;;
        _=> nrel_else:: .._cycle_node1;; 
    *);;

    _-> .._delete_arc_from_set2 (*
        _<- eraseEl;;
        _-> rrel_1:: rrel_fixed:: rrel_scp_var:: _arc_to_delete2;;

        _=> nrel_goto:: .._is_nodes_connected;;
    *);;

    _-> .._is_nodes_connected (*
        _<- searchElStr5;;
        _-> rrel_1:: rrel_fixed:: rrel_scp_var:: _node1;;
        _-> rrel_2:: rrel_assign:: rrel_scp_var:: _arc;;
        _-> rrel_3:: rrel_fixed:: rrel_scp_var:: _node2;;
        _-> rrel_4:: rrel_assign:: rrel_scp_var:: rrel_pos_const_perm:: _arc_to_arc;;
        _-> rrel_5:: rrel_fixed:: rrel_scp_const:: _structure;;

        _=> nrel_then:: .._add_arc_to_result;;
        _=> nrel_else:: .._cycle_node1;;
    *);;

    _-> .._add_arc_to_result (*
        _<- genElStr5;;
        _-> rrel_1:: rrel_fixed:: rrel_scp_var:: _node1;;
        _-> rrel_2:: rrel_assign:: rrel_scp_var:: rrel_common:: rrel_const:: _arc;;
        _-> rrel_3:: rrel_fixed:: rrel_scp_var:: _node2;;
        _-> rrel_4:: rrel_assign:: rrel_scp_var:: rrel_pos_const_perm:: _arc_to_arc;;
        _-> rrel_5:: rrel_fixed:: rrel_scp_var:: _result;;
    
        _=> nrel_goto:: .._cycle_node1;;
    *);;

    _-> .._return (*
        _<- return;;
    *);;

*);;

*];;
